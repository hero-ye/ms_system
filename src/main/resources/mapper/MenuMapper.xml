<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hero.ms.system.menu.mapper.MenuMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.hero.ms.system.menu.entity.TblSysMenu">
        <id column="MENU_ID" property="menuId"/>
        <result column="PARENT_ID" property="parentId"/>
        <result column="MENU_NAME" property="menuName"/>
        <result column="MENU_KEY" property="menuKey"/>
        <result column="URL" property="url"/>
        <result column="MENU_LEVEL" property="menuLevel"/>
        <result column="MENU_PATH" property="menuPath"/>
        <result column="SORT_NO" property="sortNo"/>
        <result column="REMARK" property="remark"/>
        <result column="FIELD1" property="field1"/>
        <result column="FIELD2" property="field2"/>
        <result column="FIELD3" property="field3"/>
        <result column="FIELD4" property="field4"/>
        <result column="FIELD5" property="field5"/>
        <result column="IS_DELETE" property="isDelete"/>
        <result column="IS_ENABLE" property="isEnable"/>
        <result column="CREATE_USER" property="createUser"/>
        <result column="CREATE_TIME" property="createTime"/>
        <result column="CREATE_NAME" property="createName"/>
        <result column="UPDATE_USER" property="updateUser"/>
        <result column="UPDATE_TIME" property="updateTime"/>
        <result column="UPDATE_NAME" property="updateName"/>
    </resultMap>

    <!-- 通用查询条件列 -->
    <sql id="Base_Where_List">
        WHERE 1 = 1
        <if test="menuId!=null and menuId!=''">
            AND MENU_ID = #{menuId}
        </if>
        <if test="parentId!=null and parentId!=''">
            AND PARENT_ID = #{parentId}
        </if>
        <if test="menuName!=null and menuName!=''">
            AND MENU_NAME = #{menuName}
        </if>
        <if test="menuKey!=null and menuKey!=''">
            AND MENU_KEY = #{menuKey}
        </if>
        <if test="url!=null and url!=''">
            AND URL = #{url}
        </if>
        <if test="menuLevel!=null and menuLevel!=''">
            AND MENU_LEVEL = #{menuLevel}
        </if>
        <if test="menuPath!=null and menuPath!=''">
            AND MENU_PATH = #{menuPath}
        </if>
        <if test="sortNo!=null and sortNo!=''">
            AND SORT_NO = #{sortNo}
        </if>
        <if test="remark!=null and remark!=''">
            AND REMARK = #{remark}
        </if>
        <if test="field1!=null and field1!=''">
            AND FIELD1 = #{field1}
        </if>
        <if test="field2!=null and field2!=''">
            AND FIELD2 = #{field2}
        </if>
        <if test="field3!=null and field3!=''">
            AND FIELD3 = #{field3}
        </if>
        <if test="field4!=null and field4!=''">
            AND FIELD4 = #{field4}
        </if>
        <if test="field5!=null and field5!=''">
            AND FIELD5 = #{field5}
        </if>
        <if test="isDelete!=null and isDelete!=''">
            AND IS_DELETE = #{isDelete}
        </if>
        <if test="isEnable!=null and isEnable!=''">
            AND IS_ENABLE = #{isEnable}
        </if>
        <if test="createUser!=null and createUser!=''">
            AND CREATE_USER = #{createUser}
        </if>
        <if test="createName!=null and createName!=''">
            AND CREATE_NAME = #{createName}
        </if>
        <if test="createTime!=null and createTime!=''">
            AND CREATE_TIME = #{createTime}
        </if>
        <if test="updateUser!=null and updateUser!=''">
            AND UPDATE_USER = #{updateUser}
        </if>
        <if test="updateName!=null and updateName!=''">
            AND UPDATE_NAME = #{updateName}
        </if>
        <if test="updateTime!=null and updateTime!=''">
            AND UPDATE_TIME = #{updateTime}
        </if>
    </sql>

    <!-- 通用数量查询 -->
    <select id="baseCountQuery" resultType="int">
        SELECT count(*)
        FROM tbl_sys_menu
        <include refid="Base_Where_List"/>
    </select>

    <!-- 查询所有 -->
    <select id="findAll" resultMap="BaseResultMap">
        SELECT *
        FROM tbl_sys_menu
        WHERE IS_DELETE = 0
        ORDER BY SORT_NO
    </select>

</mapper>
